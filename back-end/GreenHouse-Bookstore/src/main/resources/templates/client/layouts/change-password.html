<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{client/main-layout.html :: layout (~{::title}, ~{::#layout})}">

<head>
    <title>Đổi mật khẩu</title>
</head>
<main id="layout" ng-controller="changePasswordController">
    <style>
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }

        .spinner-border {
            width: 4rem;
            height: 4rem;
        }

        /* CSS */
        @keyframes bounce {

            0%,
            20%,
            50%,
            80%,
            100% {
                transform: translateY(0);
            }

            40% {
                transform: translateY(-10px);
            }

            60% {
                transform: translateY(-5px);
            }
        }

        .bouncing-text {
            animation: bounce 1s infinite;
        }

        /* change password success */
        .success-message {
            text-align: center;
            padding: 20px;
        }

        .success-message h1 {
            font-size: 24px;
            color: #4CAF50;
            /* Màu xanh lá cây */
        }

        .success-message p {
            font-size: 18px;
            color: #333;
            /* Màu đen */
        }

        #countdown {
            font-weight: bold;
            color: #E74C3C;
            /* Màu đỏ */
        }
    </style>

    <div ng-if="isLoading" class="loading-overlay">
        <img src="https://usagif.com/wp-content/uploads/gifs/book-56.gif" height="300" width="350" alt="Loading..."/>
    </div>

    <div class="container d-flex justify-content-center align-items-center mt-4 mb-4" style="width: 600px;">
        <div class="row border  p-3 bg-white shadow box-area">
            <!-- Add the Close Button -->
            <div ng-show="showFormPassword" class="col-md-12 right-box">
                <div class="row align-items-center">
                    <div class="header-text text-center">
                        <h2 class=" text-uppercase">Đổi Mật Khẩu</h2>
                        <p class="fs-12">Vui lòng nhập mật khẩu cũ của bạn để đổi mật khẩu.</p>
                    </div>
                    <form action="">
                        <div class="input-group flex-nowrap mb-2">
                            <label for="newPassword" class="icon-form">
                                <i class="fa fa-lock fa-lg fa-fw" aria-hidden="true"></i>
                            </label>
                            <div class="form-floating full-with">
                                <input type="password" ng-model="newPassword" ng-change="checkPassword()"
                                       class="form-control" id="newPassword" placeholder="Mật khẩu mới">
                                <label for="newPassword">Mật khẩu mới<label for="newPassword"
                                                                            class="text-danger">(*)</label></label>
                            </div>
                        </div>
                        <div class="input-group flex-nowrap mb-2">
                            <label for="confirmPassword" class="icon-form">
                                <i class="fa fa-lock fa-lg fa-fw" aria-hidden="true"></i>
                            </label>
                            <div class="form-floating full-with">
                                <input type="password" ng-model="confirmPassword" class="form-control"
                                       id="confirmPassword" placeholder="Xác nhận mật khẩu">
                                <label for="confirmPassword">Xác nhận mật khẩu<label for="confirmPassword"
                                                                                     class="text-danger">(*)</label></label>
                            </div>
                        </div>
                        <div class="text-danger" ng-show="passwordError">
                            Mật khẩu phải có ít nhất 8 ký tự, có ít nhất một chữ cái viết thường, một chữ cái viết hoa,
                            một số, và một ký tự đặc biệt.
                        </div>
                        <div class="input-group border-0">
                            <button type="button" class="btn btn-lg btn-success1 w-100 fs-6" ng-click="sendCode()">Xác
                                nhận
                            </button>
                        </div>
                        <div class="dialog-footer d-flex justify-content-center align-items-center mt-3">
                            <small>Bạn chưa có tài khoản?<a href="/login" class="text-green mx-1">Đăng nhập</a></small>
                        </div>
                    </form>
                </div>
            </div>
            <div ng-show="!showFormPassword" class="col-md-12 right-box">
                <div class="success-message">
                    <h1>Đổi mật khẩu thành công</h1>
                    <p>Quay về đăng nhập sau <span id="countdown">{{ countdown }}</span> giây</p>
                </div>
            </div>
        </div>
    </div>
</main>

</html>