<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
    th:replace="~{client/main-layout.html :: layout (~{::title}, ~{::#layout})}">

<head>
    <title>Flash sale</title>
</head>
<main id="layout">
    <div class="site-wrapper" ng-controller="flashSaleController">
        <section class="mt--15">
            <h2 class="sr-only">Promotion Section</h2>
            <div class="container">
                <img src="https://cdn0.fahasa.com/media/wysiwyg/Thang-11-2023/FlashSale_FahasaT311_Banner_1920x400.png"
                    alt="" style="border-radius: 5px;height: auto;max-width: 100%;">
            </div>
        </section>
        <section class="flash-sale-section">
            <div class="flash-sale-container">
                <!-- Flash Sale Header -->
                <div class="flash-sale-header" ng-repeat="flash in flashSales" ng-show="flash.showCountdown"
                    ng-if="flash.status == 2">
                    <img src="https://cdn0.fahasa.com/media/wysiwyg/icon-menu/ico_flashsale@3x.png"
                        class="flash-sale-icon">
                    <span class="flash-sale-name">{{ flash.name }}</span>
                    <div class="flash-sale-countdown">
                        <span class="countdown-item">{{ flash.hours }}</span>
                        <span>:</span>
                        <span class="countdown-item">{{ flash.minutes }}</span>
                        <span>:</span>
                        <span class="countdown-item">{{ flash.seconds }}</span>
                    </div>
                </div>


                <!-- Flash Sale Products -->
                <div class="flash-sale-products">
                    <div class="product-card" ng-repeat="proFlaSal in productFlashSales">
                        <div class="product-image" >
                            <img  class="object-fit"      style="max-height: 250px; width: 80%; border-radius: 5%;" ng-src="{{ proFlaSal.productDetail.image }}">
                            <div class="hover-contents">
                                <!-- Hover Buttons -->
                                <a href="" class="hover-btn">
                                    <i class="fas fa-shopping-basket"></i>
                                </a>
                                <a href="" class="hover-btn">
                                    <i class="fas fa-heart"></i>
                                </a>
                                <a href="#" data-bs-toggle="modal" data-bs-target="#quickModal" class="hover-btn">
                                    <i class="fas fa-eye"></i>
                                </a>
                            </div>
                        </div>
                        <div class="price-block">
                            <span class="price">{{ proFlaSal.productDetail.priceDiscount }}</span>
                            <del class="price-old">{{ proFlaSal.productDetail.price }}</del>
                            <span class="price-discount">{{ proFlaSal.discountPercentage }}%</span>
                        </div>
                        <div class="product-header">
                            <h3><a href="">{{ proFlaSal.productDetail.product.productName }}</a></h3>
                        </div>
                        <div class="progress-bar-container">
                            <div class="progress-bar"
                                ng-style="{'width': proFlaSal.usedQuantity / proFlaSal.quantity * 100 + '%'}"></div>
                            <span class="progress-label">Đã bán {{ proFlaSal.usedQuantity }}</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>


        <section class="section-margin">
            <h2 class="sr-only">Brand Slider</h2>
            <div class="container">
                <div class="brand-slider sb-slick-slider border-top border-bottom" data-slick-setting='{
                                                "autoplay": true,
                                                "autoplaySpeed": 8000,
                                                "slidesToShow": 6
                                                }' data-slick-responsive='[
                    {"breakpoint":992, "settings": {"slidesToShow": 4} },
                    {"breakpoint":768, "settings": {"slidesToShow": 3} },
                    {"breakpoint":575, "settings": {"slidesToShow": 3} },
                    {"breakpoint":480, "settings": {"slidesToShow": 2} },
                    {"breakpoint":320, "settings": {"slidesToShow": 1} }
                ]'>
                    <div class="single-slide">
                        <img src="image/others/lh1.jfif" alt="">
                    </div>
                    <div class="single-slide">
                        <img src="image/others/lh2.jfif" alt="">
                    </div>
                    <div class="single-slide">
                        <img src="image/others/lh3.jpg" alt="">
                    </div>
                    <div class="single-slide">
                        <img src="image/others/lh4.jpeg" alt="">
                    </div>
                    <div class="single-slide">
                        <img src="image/others/lh5.jpg" alt="">
                    </div>
                    <div class="single-slide">
                        <img src="image/others/lh6.avif" alt="">
                    </div>
                    <div class="single-slide">
                        <img src="image/others/lh7.jpg" alt="">
                    </div>
                    <div class="single-slide">
                        <img src="image/others/lh8.webp" alt="">
                    </div>
                </div>
            </div>
        </section>
    </div>
</main>

</html>



<style>
    .flash-sale-section {
        background-color: #f8f8f8;
        padding: 20px;
    }

    .flash-sale-container {
        max-width: 1200px;
        margin: 0 auto;
    }

    .flash-sale-header {
        background-color: #26d94a;
        color: #fff;
        border: 1px solid #26d94a;
        border-radius: 8px;
        padding: 20px;
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        justify-content: space-between;
    }


    .flash-sale-icon {
        width: 25px;
        height: 25px;
        margin-right: 10px;
    }

    .flash-sale-name {
        font-size: 18px;
        font-weight: bold;
    }

    .flash-sale-countdown {
        display: flex;
        align-items: center;
    }

    .countdown-item {
        font-size: 16px;
        font-weight: bold;
        margin-right: 5px;
    }

    .flash-sale-details {
        margin-bottom: 20px;
    }

    .flash-sale-time {
        display: flex;
        font-size: 14px;
        color: #888;
    }

    .start-time,
    .end-time {
        margin-right: 10px;
    }

    .flash-sale-products {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-around;
    }

    .product-card {
        background-color: #fff;
        border: 1px solid #ddd;
        border-radius: 8px;
        margin: 10px;
        padding: 20px;
        width: calc(33.333% - 20px);
        box-sizing: border-box;
        position: relative;
        transition: transform 0.3s ease-in-out;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .product-card:hover {
        transform: scale(1.1);
    }


    .product-card h3 a {
        font-size: 1.5rem;
        color: #333;
        text-decoration: none;
        transition: color 0.3s;
    }

    .product-card h3 a:hover {
        color: #26d94a;
    }

    .product-image {
        position: relative;
        
    }

    .hover-contents {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.5);
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0;
        transition: opacity 0.3s;
    }

    .product-image:hover .hover-contents {
        opacity: 1;
    }

    .hover-btn {
        color: #fff;
        font-size: 20px;
        margin: 0 5px;
    }

    .price-block {
        margin-top: 10px;
    }

    .price {
        font-size: 18px;
        font-weight: bold;
        color: #26d94a;
    }

    .price-old {
        color: #888;
        text-decoration: line-through;
        margin-right: 5px;
    }

    .price-discount {
        color: #fff;
        font-weight: bold;
        margin-left: 5px;
    }

    .product-header {
        margin-top: 10px;
    }

    .product-header h3 {
        font-size: 16px;
    }

    .progress-bar-container {
    margin-top: 10px;
    position: relative; /* Để có thể định dạng tiện ích con */
}

.progress-bar {
    height: 10px;
    background-color: #26d94a;
    position: relative;
}

.progress-label {
    display: block;
    margin-top: 5px;
    font-size: 14px;
    color: #888;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    white-space: nowrap; /* Ngăn chữ bị tràn khi quá dài */
}

</style>